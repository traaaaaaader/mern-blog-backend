
# MERN Blog

<p align="center">
	<img src="https://skillicons.dev/icons?i=express,nodejs,mongodb,docker" />
</p>

---

## Содержание

1. [Архитектура](#архитектура)
2. [Конфигурация](#конфигурация)
3. [Установка и запуск](#установка-и-запуск)
4. [Библиотеки](#библиотеки)

## Архитектура

- **Клиент** обращается к HTTP-эндпоинтам Express.js.
- **Валидация** (`express-validator`) выполняется до передачи запроса в контроллер.
- **Контроллеры** обрабатывают бизнес-логику, извлекают и валидируют данные.
- **Модели** (`mongoose`) взаимодействуют с MongoDB и представляют основные сущности.
- В проекте используются сущности:
	- **User** — пользователь, содержащий email, имя, пароль и т.п.
	- **Post** — пост, опубликованный пользователем (заголовок, текст, изображения).
	- **Comment** — комментарий к посту, привязан к пользователю и посту.
	- **Image** — сущность для загрузки и хранения изображений поста.

### Описание сущностей

| Сущность | Описание |
|----------|----------|
| **User** | Пользователь. Содержит имя, email, пароль, роли и аватар. |
| **Post** | Публикация пользователя. Включает заголовок, текст, список изображений, количество лайков, ID автора. |
| **Comment** | Комментарий под постом. Содержит текст, ID автора и ID поста. |
| **Image** | Файл изображения, загруженный в пост. Содержит путь к файлу и метаданные. |

## Конфигурация

Переменные окружения задаются в `.env` файле:

| Переменная        | Назначение                      | Пример              |
|-------------------|----------------------------------|---------------------|
| `PORT`            | Порт, на котором запускается API | `3000`              |
| `MONGO_URI`       | Строка подключения к MongoDB     | `mongodb://...`     |
| `JWT_SECRET`      | Секрет для подписи токенов       | `mysecret`          |

## Установка и запуск

Установите зависимости:

```
npm install
```

Запуск локального сервера:

```
npm start
```

Либо с помощью `nodemon` для автообновления:

```
npm run dev
```

## Библиотеки

| Библиотека        | Назначение                              |
|-------------------|------------------------------------------|
| `express`         | HTTP сервер                              |
| `mongoose`        | ORM для MongoDB                          |
| `dotenv`          | Загрузка `.env` переменных               |
| `jsonwebtoken`    | Подпись и проверка JWT                   |
| `express-validator` | Валидация данных в запросах           |
| `bcrypt`          | Хеширование паролей                      |
| `multer`          | Загрузка файлов (если используется)      |
